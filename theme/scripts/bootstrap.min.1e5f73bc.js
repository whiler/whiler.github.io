(function(win,doc){var cfg={};var taskQueue=win.taskQueue=win.taskQueue||(function(){var queue=[];return{'enqueue':function(){return queue.push(arguments);},'dequeue':function(){return queue.shift();},'getLength':function(){return queue.length;}};})();var page=win.page=win.page||(function(){return{'get':function(name){return cfg[name];}};})();function getQueryVariable(name){var query=win.location.search.substring(1),vars=query.split('&');for(var i=0;i<vars.length;i++){var pair=vars[i].split('=');if(decodeURIComponent(pair[0])==name)return decodeURIComponent(pair[1]);}return null;}if('undefined'!=typeof (win.Worker)&&'undefined'!=typeof (doc.querySelectorAll)&&!getQueryVariable('noscript')){function dispatch(args){var action=args[0];if('create'==action){var element=doc.createElement(args[1]),attrs=args[2];for(var name in attrs)element.setAttribute(name,attrs[name]);(doc.head||doc.body).appendChild(element);delete element;}else if('wait'==action)if(args[1]())args[2]();else taskQueue.enqueue('wait',args[1],args[2]);else{console.warn(args);return false;}return true;}var times=0,max=200,sleep=300,domReady=false,entry=doc.getElementById('entry'),reg=/data-(.+)/;var consumer=function(){times++;var taskLength=taskQueue.getLength();domReady=domReady=domReady||doc.readyState==='complete';if(domReady&&0<taskLength){console.info(taskQueue.getLength()+' task(s) in taskQueue');for(var i=0;i<taskLength;i++)dispatch(taskQueue.dequeue());}if(times<max)setTimeout(consumer,sleep);else console.warn('ignore any task');return true;};setTimeout(consumer,sleep);for(var i=0;i<entry.attributes.length;i++){var match=reg.exec(entry.attributes[i].nodeName);if(match)if('config'==match[1]){var config=JSON.parse(entry.attributes[i].nodeValue);for(var name in config)cfg[name]=config[name];}else cfg[match[1]]=entry.attributes[i].nodeValue;}delete entry,reg;}return true;})(window,document);(function(win,doc){var ga=win.page.get('ga');if(ga){var dataLayer=win.dataLayer=win.dataLayer||[],gtag=win.gtag=win.gtag||function(){return dataLayer.push(arguments);};gtag('js',new Date());gtag('config',ga);win.taskQueue.enqueue('create','script',{'src':'https://www.googletagmanager.com/gtag/js?id='+ga});}return true;})(window,document);(function(win,doc){var uuid=win.page.get('uuid'),disqus=win.page.get('disqus');if(doc.querySelectorAll('#disqus_thread').length&&uuid&&disqus){win.disqus_config=function(){this.page.url=win.location.protocol+'//'+win.location.host+win.location.pathname;this.page.identifier=uuid;return true;};win.taskQueue.enqueue('create','script',{'src':'https://'+disqus+'.disqus.com/embed.js','data-timestamp':+new Date()});}return true;})(window,document);(function(win,doc){var highlightReady=true,selector='pre:not([class^=uml-]) code';if(0<doc.querySelectorAll(selector).length){win.taskQueue.enqueue('create','link',{rel:'stylesheet',href:'//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css'});win.taskQueue.enqueue('create','script',{src:'//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js'});win.taskQueue.enqueue('wait',function(){return 'undefined'!=typeof hljs;},function(){var codes=doc.querySelectorAll(selector);for(var i=0;i<codes.length;i++)hljs.highlightBlock(codes[i]);delete codes;return true;});}return true;})(window,document);(function(win,doc){if(0<doc.querySelectorAll('script[type^="math/tex"]').length)win.taskQueue.enqueue('create','script',{src:'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-MML-AM_CHTML'});return true;})(window,document);(function(win,doc){var flowchartSelector='pre[class=uml-flowchart] code',sequenceSelector='pre[class=uml-sequence-diagram] code',whitespace=/^\s*$/,classReg=/pre\[class=(.+)\] code/;function getParentPre(node){var parentNode=node.parentNode;while(parentNode&&parentNode.nodeName.toUpperCase()!='PRE')parentNode=parentNode.parentNode;return parentNode;}function uml(converter,selector,settings){var codes=doc.querySelectorAll(selector),match=classReg.exec(selector),className=match!=null?match[1]:null;for(var i=0;i<codes.length;i++){var code=codes[i];for(var j=0;j<code.childNodes.length;j++){var child=code.childNodes[j];if(child.nodeName=='#text'&&!whitespace.test(child.nodeValue)){var div=doc.createElement('div'),pre=getParentPre(code),parentNode=pre.parentNode;if(className)div.className=className;parentNode.insertBefore(div,pre);converter.parse(child.nodeValue).drawSVG(div,settings);parentNode.removeChild(pre);delete div,pre,parentNode;}}}delete codes;return true;}if(0<doc.querySelectorAll(flowchartSelector).length){win.taskQueue.enqueue('create','script',{src:'//cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js'});win.taskQueue.enqueue('wait',function(){return typeof Raphael!='undefined';},function(){return win.taskQueue.enqueue('create','script',{src:'//cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js'});});win.taskQueue.enqueue('wait',function(){return typeof flowchart!='undefined';},function(){return uml(flowchart,flowchartSelector,{});});}if(0<doc.querySelectorAll(sequenceSelector).length){win.taskQueue.enqueue('create','script',{src:'//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js'});win.taskQueue.enqueue('create','script',{src:'//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js'});win.taskQueue.enqueue('wait',function(){return typeof _!='undefined';},function(){return win.taskQueue.enqueue('create','script',{src:'//cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js'});});win.taskQueue.enqueue('wait',function(){return typeof Diagram!='undefined';},function(){return uml(Diagram,sequenceSelector,{theme:'hand'});});}return true;})(window,document);